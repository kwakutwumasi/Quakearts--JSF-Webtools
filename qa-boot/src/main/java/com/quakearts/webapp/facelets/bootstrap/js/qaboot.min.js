var qab=qab||{};qab.mlis=function(t){if(!$(t).hasClass("disabled")){var s=$(t),i=s.data("item-value"),a=s.data("dropdown-input"),e=$("#"+a);s.hasClass("active")?(e.find("input").each(function(){$(this).val()==i&&$(this).remove()}),s.removeClass("active")):(e.append('<input name="'+a+'" value="'+i+'" type="hidden"></input>'),s.addClass("active")),$("#"+a+"_change").change()}},qab.ssdd=function(t){if(!$(t).hasClass("disabled")){var s=$("#"+$(t).data("dropdown"));s.is(":hidden")&&s.find("a").length>0?s.slideDown("slow",function(){$(window).scrollTop()+$(window).height()<s.offset().top+s.height()&&$(window).scrollTop($(window).scrollTop()+s.height())}):s.slideUp("fast")}},qab.ssidd=function(t){if(!$(t).hasClass("disabled")){var s=$("#"+$(t).data("dropdown"));$(".input-list-group").each(function(){$(this).is(":hidden")||$(this).slideUp("fast")}),s.is(":hidden")&&s.find("a").length>0?s.slideDown("slow"):s.slideUp("fast")}},qab.ssime=function(t,s,i){var a=$(t);if(!a.hasClass("form-control")){if(a.is(":focus")&&"blur"!=i.type)return;a=a.parent()}s?a.addClass("form-select-focus"):a.removeClass("form-select-focus")},qab.olis=function(t){if(!$(t).hasClass("disabled")){var s=$(t),i=s.data("dropdown-input"),a=s.data("item-value"),e=s.data("display-span");s.parent().children().each(function(){$(this).hasClass("active")&&$(this).removeClass("active")}),s.addClass("active");var n=$("#"+i);if(n.find("input").each(function(){$(this).attr("id")||$(this).remove()}),n.append('<input name="'+i+'" value="'+a+'" type="hidden"></input>'),e){var h=$("#"+e);"input"==h.prop("tagName").toLowerCase()?h.val(s.html()):h.html(s.html())}$("#"+i+"_change").change()}},qab.pp=function(t){var s=$(t).data("page-input"),i=$("#"+s);i.val(parseInt(i.val())-1),i.change()},qab.np=function(t){var s=$(t).data("page-input"),i=$("#"+s);i.val(parseInt(i.val())+1),i.change()},qab.gp=function(t){var s=$(t).data("page-input"),i=$(t).data("page-value"),a=$("#"+s);a.val(i),a.change()},qab.sf=function(t,s){qab.afv(t,s);var i=t.target;if(t.onsubmit){var a=t.onsubmit();(void 0===a||a)&&t.submit()}else t.submit();t.target=i,qab.dpf(t)},qab.dpf=function(t){var s=t.pairs;if(null!==s)for(var i=0;i<s.length;i++)t.removeChild(s[i])},qab.afv=function(t,s){var i=new Array;t.pairs=i;var a=0;for(var e in s)if(s.hasOwnProperty(e)){var n=document.createElement("input");n.type="hidden",n.name=e,n.value=s[e],t.appendChild(n),i[a++]=n}},qab.rfv=function(t){var s=t.pairs;if(null!==s)for(var i=0;i<s.length;i++)t.removeChild(s[i])},qab.escape=function(t){return t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},qab.qact=function(t,s){qab.tmid>0&&clearTimeout(qab.tmid),qab.tmid=setTimeout(t,s)},qab.tmid=0,qab.sdn=function(t){var s=$("#"+$(t).data("dropdown"));return s.animate({scrollTop:s.scrollTop()+s.height()},{duration:500,queue:!0,done:function(){s.scrollTop()+s.height()==s.prop("scrollHeight")&&$(t).prop("disabled",!0);var i=$("#"+$(t).data("up-button"));i.prop("disabled")&&i.prop("disabled",!1)}}),!1},qab.sup=function(t){var s=$("#"+$(t).data("dropdown"));return s.animate({scrollTop:s.scrollTop()-s.height()},{duration:500,queue:!0,done:function(){0==s.scrollTop()&&$(t).prop("disabled",!0);var i=$("#"+$(t).data("down-button"));i.prop("disabled")&&i.prop("disabled",!1)}}),!1},qab.rsel=[],qab.rsi=function(){for(var t=$(window).width(),s=0;s<qab.rsel.length;s++)qab.rsel[s].resizeImage(t)},qab.tmid2=0,qab.tm=function(t,s){var i=$(t);(qab.tmid2=0)&&clearTimeout(qab.tmid2),setTimeout(function(){var t=s?"0":"-13em";i.animate({left:t})},s?0:500)},qab.icbe=function(t){var s=$(t),i=$("input[name="+$(t).data("input-control")+"]");s.prop("checked")?i.prop("disabled",!1):i.prop("disabled",!0)},qab.mons=new Array(31,28,31,30,31,30,31,31,30,31,30,31),qab.dc=function(t,s,i,a,e,n,h,o,r,l,d,c,u){return{day:t,month:s,year:i,dsel:c+"_day",msel:c+"_month",ysel:c+"_year",insel:c+"_input",dbsel:c+"_btn_day",type:u,chngsel:c+"_change",ud:function(t){this.day=t.innerHTML,this.uc(),$(this.dsel).html($(t).html())},um:function(t,s){this.month=s;var i=qab.mons[s-1];this.day>i&&(this.day=i,$(this.dsel).html(i+"")),this.uc(),$(this.msel).html($(t).html()),this.sd()},uy:function(t){this.year=t.innerHTML,$(this.ysel).html(this.year),this.month?this.sd():($(this.msel).html("Jan"),this.month=1,this.sd()),this.uc()},yi:function(t){4==t.value.length&&t.value.match(/[1-2][\d]{3}/)&&this.uy({innerHTML:t.value})},sd:function(){if("dm"==this.type||"dmy"==this.type){var t=qab.mons[this.month-1];2==this.month&&(this.year%100==0&&this.year%400==0?t+=1:this.year%4==0&&(t+=1));var s=-8,i=new Date(this.year?this.year:(new Date).getFullYear(),this.month-1,1,0,0,0,0).getDay();$(this.dbsel).parent().find(".buffer").width(39*i),$(this.dbsel).parent().find("div.dropdown-menu").children().each(function(){t<++s?($(this).addClass("collapse"),$(this).removeClass("day")):$(this).hasClass("collapse")&&($(this).removeClass("collapse"),$(this).addClass("day"))})}},hrsel:c+"_hour",hrstep:h,hour:a,minhr:l?0:1,maxhr:l?23:12,is24hr:l,hrup:function(){this.hour<this.maxhr&&this.hour+this.hrstep<=this.maxhr&&(this.hour+=this.hrstep-this.hour%this.hrstep,$(this.hrsel).val(this.hour),this.uc())},hrdown:function(){if(this.hour>this.minhr&&this.hour-this.hrstep>=this.minhr){var t=this.hour%this.hrstep;this.hour-=0===t?h:t,$(this.hrsel).val(this.hour),this.uc()}},vhr:function(t){if(this.vn(t)){var s=parseInt(t.value);this.minhr>s||s>this.maxhr?(t.value=this.minhr+"",this.hour=this.minhr):this.hour=s,this.uc()}},mnsel:c+"_min",mnstep:o,minute:e,mnup:function(){this.minute<60&&this.minute+this.mnstep<=59&&(this.minute+=this.mnstep-this.minute%this.mnstep,$(this.mnsel).val(this.minute),this.uc())},mndown:function(){if(this.minute>0&&this.minute-this.mnstep>=0){var t=this.minute%this.mnstep;this.minute-=0===t?o:t,$(this.mnsel).val(this.minute),this.uc()}},vmn:function(t){if(this.vn(t)){var s=parseInt(t.value);0>s||s>60?(t.value="0",this.minute=0):this.minute=s,this.uc()}},scsel:c+"_sec",scstep:r,second:n,scup:function(){this.second<60&&this.second+this.scstep<=59&&(this.second+=this.scstep-this.second%this.scstep,$(this.scsel).val(this.second),this.uc())},scdown:function(){if(this.second>0&&this.second-this.scstep>=0){var t=this.second%this.scstep;this.second-=0===t?r:t,$(this.scsel).val(this.second),this.uc()}},vsc:function(t){if(this.vn(t)){var s=parseInt(t.value);0>s||s>60?(t.value="0",this.second=0):this.second=s,this.uc()}},vn:function(t){return!!/^\d+$/.test(t.value)||(t.value="0",!1)},isAM:d,tglampm:function(t,s){this.isAM=s,$(t).parent().children().removeClass("active"),$(t).addClass("active"),this.uc()},cc:function(){$(this.insel).val(""),$(this.dsel).html("&nbsp;"),$(this.msel).html("&nbsp;"),$(this.ysel).html("&nbsp;"),$(this.hrsel).val(""),$(this.mnsel).val(""),$(this.scsel).val(""),this.day="",this.month=0,this.year="",this.hour=0,this.minute=0,this.second=0},uc:function(){var t=this.hour;this.is24hr||(this.isAM?12===this.hour&&(t=0):12!==this.hour&&(t+=12));for(var s=(this.month<10?"0":"")+this.month,i=(t<10?"0":"")+t,a=(this.minute<10?"0":"")+this.minute,e=(this.second<10?"0":"")+this.second,n="",h=this.type.split(""),o=0;o<h.length;o++){switch(h[o]){case"d":if(0==this.day.length)return;n=1==this.day.length?"0"+this.day:this.day;break;case"m":if(0==this.month)return;n.length>0&&(n+="/"),n+=s;break;case"y":if(0==this.year.length)return;n.length>0&&(n+="/"),n+=this.year;break;case"h":n.length>0&&(n+=" "),n+=i;break;case"n":n.length>0&&(n+=":"),n+=a;break;case"s":n.length>0&&(n+=":"),n+=e}}$(this.insel).val(n),$(this.chngsel).change()}}},qab.adid="",qab.sd=0,qab.ed=0,qab.mlh=function(t){switch(t.status){case"begin":var s=$("#"+qab.adid);s.removeClass("collapse").addClass("overlay"),s.animate({opacity:.8},qab.sd,function(){});break;case"complete":$("#"+qab.adid).animate({opacity:0},qab.ed,function(){$("#"+qab.adid).removeClass("overlay").addClass("collapse")})}},qab.ovlimg="",qab.ovlimgcss="",qab.ovh=function(t){switch(t.status){case"begin":if(e=(i=$("#"+t.source.id)).data("overlay-target"))a=$("#"+e);else for(a=i;a.parent().length>0&&"BODY"!=a.prop("tagName")&&!a.hasClass("ajax-container");)a=a.parent();$("body").append("<div id='"+t.source.id+"_overlay' class='collapse'><img src='"+qab.ovlimg+"' border='0' "+qab.ovlimgcss+"/></div>"),(s=$("#"+t.source.id+"_overlay")).css({position:"absolute",top:a.offset().top,left:a.offset().left,width:a.css("width"),height:a.css("height")}),s.removeClass("collapse").addClass("overlay"),s.animate({opacity:.8},qab.sd,function(){});break;case"complete":if(!t.responseCode||200!=t.responseCode)(s=$("#"+t.source.id+"_overlay")).length>0&&s.animate({opacity:0},qab.ed,function(){$("#"+t.source.id+"_overlay").remove()});break;case"success":var s;if((s=$("#"+t.source.id+"_overlay")).length>0){var i,a,e;if(e=(i=$("#"+t.source.id)).data("overlay-target"))a=$("#"+e);else for(a=i;a.parent().length>0&&"BODY"!=a.prop("tagName")&&!a.hasClass("ajax-container");)a=a.parent();s.css({width:a.css("width"),height:a.css("height")}),s.length>0&&s.animate({opacity:0},qab.ed,function(){$("#"+t.source.id+"_overlay").remove()})}}},qab.miniimg="",qab.miniimgcss="",qab.mnh=function(t){switch(t.status){case"begin":$("#"+t.source.id).parent().append("<img src='"+qab.miniimg+"' id='"+t.source.id+"_img' "+qab.miniimgcss+"/>");break;case"complete":$("#"+t.source.id+"_img").remove()}},qab.hclk=function(t){var s=$(t.currentTarget).parent();s.hasClass("dragging")||(s.addClass("dragging"),t.stopPropagation?t.stopPropagation():window.event.cancelBubble=!0)},qab.pclk=function(t){var s=$(t.currentTarget);s.hasClass("dragging")&&s.removeClass("dragging")},qab.pmv=function(t){var s=$(t.currentTarget);if(s.hasClass("dragging")){s.offset();s.css("left",t.pageX),s.css("top",t.pageY)}},qab.cls=function(t){$(t.currentTarget).parent().parent().fadeOut(),t.stopPropagation?t.stopPropagation():window.event.cancelBubble=!0};