var qab=qab||{};qab.mlis=function(t){if(!$(t).hasClass("disabled")){var i=$(t),s=i.data("item-value"),a=i.data("dropdown-input"),e=$("#"+a);i.hasClass("active")?(e.find("input").each((function(){$(this).val()==s&&$(this).remove()})),i.removeClass("active")):(e.append('<input name="'+a+'" value="'+s+'" type="hidden"></input>'),i.addClass("active")),$("#"+a+"_change").change()}},qab.ssdd=function(t){var i=$("#"+$(t).data("dropdown"));i.is(":hidden")&&i.find("a").length>0?i.slideDown("slow",(function(){$(window).scrollTop()+$(window).height()<i.offset().top+i.height()&&$(window).scrollTop($(window).scrollTop()+i.height())})):i.slideUp("fast")},qab.ssidd=function(t){if(!$(t).hasClass("disabled")){var i=$("#"+$(t).data("dropdown"));$(".input-list-group").each((function(){$(this).is(":hidden")||$(this).slideUp("fast")})),i.is(":hidden")&&i.find("a").length>0?i.slideDown("slow"):i.slideUp("fast")}},qab.olis=function(t,i){if(!$(t).hasClass("disabled")){var s=$(t),a=s.data("dropdown-input"),e=s.data("item-value"),n=s.data("display");s.parent().children().each((function(){$(this).hasClass("active")&&$(this).removeClass("active")})),s.addClass("active");var h=$("#"+a);if(h.find("input").each((function(){$(this).attr("id")||$(this).remove()})),h.append('<input name="'+a+'" value="'+e+'" type="hidden"></input>'),n){var r=$("#"+n);"input"==r.prop("tagName").toLowerCase()?r.val(s.html()):r.html(s.html())}$("#"+a+"_change").change(),i&&s.parent().slideUp("fast")}},qab.pp=function(t){var i=$(t).data("page-input"),s=$("#"+i);s.val(parseInt(s.val())-1),s.change()},qab.np=function(t){var i=$(t).data("page-input"),s=$("#"+i);s.val(parseInt(s.val())+1),s.change()},qab.gp=function(t){var i=$(t).data("page-input"),s=$(t).data("page-value"),a=$("#"+i);a.val(s),a.change()},qab.sf=function(t,i){qab.afv(t,i);var s=t.target;if(t.onsubmit){var a=t.onsubmit();(void 0===a||a)&&t.submit()}else t.submit();t.target=s,qab.dpf(t)},qab.dpf=function(t){var i=t.pairs;if(null!==i)for(var s=0;s<i.length;s++)t.removeChild(i[s])},qab.afv=function(t,i){var s=new Array;t.pairs=s;var a=0;for(var e in i)if(i.hasOwnProperty(e)){var n=document.createElement("input");n.type="hidden",n.name=e,n.value=i[e],t.appendChild(n),s[a++]=n}},qab.rfv=function(t){var i=t.pairs;if(null!==i)for(var s=0;s<i.length;s++)t.removeChild(i[s])},qab.escape=function(t){return t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},qab.qact=function(t,i){qab.tmid>0&&clearTimeout(qab.tmid),qab.tmid=setTimeout(t,i)},qab.tmid=0,qab.sdn=function(t){var i=$("#"+$(t).data("dropdown"));return i.animate({scrollTop:i.scrollTop()+i.height()},{duration:500,queue:!0,done:function(){i.scrollTop()+i.height()==i.prop("scrollHeight")&&$(t).prop("disabled",!0);var s=$("#"+$(t).data("up-button"));s.prop("disabled")&&s.prop("disabled",!1)}}),!1},qab.sup=function(t){var i=$("#"+$(t).data("dropdown"));return i.animate({scrollTop:i.scrollTop()-i.height()},{duration:500,queue:!0,done:function(){0==i.scrollTop()&&$(t).prop("disabled",!0);var s=$("#"+$(t).data("down-button"));s.prop("disabled")&&s.prop("disabled",!1)}}),!1},qab.rsel=[],qab.rsi=function(){for(var t=$(window).width(),i=0;i<qab.rsel.length;i++)qab.rsel[i].resizeImage(t)},qab.tmid2=0,qab.tm=function(t,i){var s=$(t);(qab.tmid2=0)&&clearTimeout(qab.tmid2),setTimeout((function(){var t=i?"0":"-13em";s.animate({left:t})}),i?0:500)},qab.icbe=function(t){var i=$(t),s=$("input[name="+$(t).data("input-control")+"]");i.prop("checked")?s.prop("disabled",!1):s.prop("disabled",!0)},qab.mons=new Array(31,28,31,30,31,30,31,31,30,31,30,31),qab.dc=function(t,i){return{iddiv:i,init:function(){if(!this.rdy){var t=$(i);this.day=t.data("day").toString(),this.month=t.data("month"),this.year=t.data("year").toString(),this.hour=t.data("hour"),this.minute=t.data("min"),this.second=t.data("sec"),this.hrstep=t.data("hrstep"),this.mnstep=t.data("mnstep"),this.scstep=t.data("scstep"),this.is24hr=t.data("is24hr"),this.isAM=t.data("isam"),this.type=t.data("datetype"),this.minhr=this.is24hr?0:1,this.maxhr=this.is24hr?23:12,this.rdy=!0}},rdy:!1,day:"1",month:0,year:"2000",dsel:t+"_day",msel:t+"_month",ysel:t+"_year",insel:t+"_input",dbsel:t+"_btn_day",type:"",chngsel:t+"_change",ud:function(t){this.init(),this.day=t.innerHTML,this.uc(),$(this.dsel).html($(t).html())},um:function(t,i){this.init(),this.month=i;var s=qab.mons[i-1];this.day>s&&(this.day=s,$(this.dsel).html(s+"")),this.uc(),$(this.msel).html($(t).html()),this.sd()},uy:function(t){this.init(),this.year=t.innerHTML,$(this.ysel).html(this.year),this.month||($(this.msel).html("Jan"),this.month=1),this.sd(),this.uc()},yi:function(t){4==t.value.length&&t.value.match(/[1-2][\d]{3}/)&&this.uy({innerHTML:t.value})},sd:function(){if(this.type.startsWith("dm")){var t=qab.mons[this.month-1];2==this.month&&(this.year%100==0&&this.year%400==0||this.year%4==0)&&(t+=1);var i=-8,s=new Date(this.year?this.year:(new Date).getFullYear(),this.month-1,1,0,0,0,0).getDay();$(this.dbsel).parent().find(".buffer").width(39*s),$(this.dbsel).parent().find("div.dropdown-menu").children().each((function(){i++,t<i?($(this).addClass("collapse"),$(this).removeClass("day")):$(this).hasClass("collapse")&&($(this).removeClass("collapse"),$(this).addClass("day"))}))}},hrsel:t+"_hour",hrstep:0,hour:0,minhr:0,maxhr:0,is24hr:!0,hrup:function(){this.init(),this.hour<this.maxhr&&this.hour+this.hrstep<=this.maxhr&&(this.hour+=this.hrstep-this.hour%this.hrstep,$(this.hrsel).val(this.hour),this.uc())},hrdown:function(){if(this.init(),this.hour>this.minhr&&this.hour-this.hrstep>=this.minhr){var t=this.hour%this.hrstep;this.hour-=0===t?this.hrstep:t,$(this.hrsel).val(this.hour),this.uc()}},vhr:function(t){if(this.init(),this.vn(t)){var i=parseInt(t.value);this.minhr>i||i>this.maxhr?(t.value=this.minhr+"",this.hour=this.minhr):this.hour=i,this.uc()}},mnsel:t+"_min",mnstep:0,minute:0,mnup:function(){this.init(),this.minute<60&&this.minute+this.mnstep<=59&&(this.minute+=this.mnstep-this.minute%this.mnstep,$(this.mnsel).val(this.minute),this.uc())},mndown:function(){if(this.init(),this.minute>0&&this.minute-this.mnstep>=0){var t=this.minute%this.mnstep;this.minute-=0===t?this.mnstep:t,$(this.mnsel).val(this.minute),this.uc()}},vmn:function(t){if(this.init(),this.vn(t)){var i=parseInt(t.value);0>i||i>59?(t.value="0",this.minute=0):this.minute=i,this.uc()}},scsel:t+"_sec",scstep:0,second:0,scup:function(){this.init(),this.second<60&&this.second+this.scstep<=59&&(this.second+=this.scstep-this.second%this.scstep,$(this.scsel).val(this.second),this.uc())},scdown:function(){if(this.init(),this.second>0&&this.second-this.scstep>=0){var t=this.second%this.scstep;this.second-=0===t?this.scstep:t,$(this.scsel).val(this.second),this.uc()}},vsc:function(t){if(this.init(),this.vn(t)){var i=parseInt(t.value);0>i||i>59?(t.value="0",this.second=0):this.second=i,this.uc()}},vn:function(t){return!!/^\d+$/.test(t.value)||(t.value="0",!1)},isAM:!0,tglampm:function(t,i){this.init(),this.isAM=i,$(t).parent().children().removeClass("active"),$(t).addClass("active"),this.uc()},cc:function(){this.init(),$(this.insel).val(""),$(this.dsel).html("&nbsp;"),$(this.msel).html("&nbsp;"),$(this.ysel).html("&nbsp;"),$(this.hrsel).val(""),$(this.mnsel).val(""),$(this.scsel).val(""),this.day="",this.month=0,this.year="",this.hour=0,this.minute=0,this.second=0,$(this.chngsel).change()},uc:function(){var t=this.hour;this.is24hr||(this.isAM?12===this.hour&&(t=0):12!==this.hour&&(t+=12));for(var i=(this.month<10?"0":"")+this.month,s=(t<10?"0":"")+t,a=(this.minute<10?"0":"")+this.minute,e=(this.second<10?"0":"")+this.second,n="",h=this.type.split(""),r=0;r<h.length;r++){switch(h[r]){case"d":if(0==this.day.length)return;n=1==this.day.length?"0"+this.day:this.day;break;case"m":if(0==this.month)return;n.length>0&&(n+="/"),n+=i;break;case"y":if(0==this.year.length)return;n.length>0&&(n+="/"),n+=this.year;break;case"h":n.length>0&&(n+=" "),n+=s;break;case"n":n.length>0&&(n+=":"),n+=a;break;case"s":n.length>0&&(n+=":"),n+=e}}$(this.insel).val(n),$(this.chngsel).change()}}},qab.adid="",qab.sd=0,qab.ed=0,qab.mlh=function(t){switch(t.status){case"begin":var i=$("#"+qab.adid);i.removeClass("collapse").addClass("overlay"),i.animate({opacity:.8},qab.sd,(function(){}));break;case"complete":$("#"+qab.adid).animate({opacity:0},qab.ed,(function(){$("#"+qab.adid).removeClass("overlay").addClass("collapse")}))}},qab.ovlimg="",qab.ovlimgcss="",qab.ovh=function(t){switch(t.status){case"begin":if(e=(s=$("#"+t.source.id)).data("overlay-target"))a=$("#"+e);else for(a=s;a.parent().length>0&&"BODY"!=a.prop("tagName")&&!a.hasClass("ajax-container");)a=a.parent();$("body").append("<div id='"+t.source.id+"_overlay' class='collapse'><img src='"+qab.ovlimg+"' border='0' "+qab.ovlimgcss+"/></div>"),(i=$("#"+t.source.id+"_overlay")).css({position:"absolute",top:a.offset().top,left:a.offset().left,width:a.css("width"),height:a.css("height")}),i.removeClass("collapse").addClass("overlay"),i.animate({opacity:.8},qab.sd,(function(){}));break;case"complete":if(!t.responseCode||200!=t.responseCode)(i=$("#"+t.source.id+"_overlay")).length>0&&i.animate({opacity:0},qab.ed,(function(){$("#"+t.source.id+"_overlay").remove()}));break;case"success":var i;if((i=$("#"+t.source.id+"_overlay")).length>0){var s,a,e;if(e=(s=$("#"+t.source.id)).data("overlay-target"))a=$("#"+e);else for(a=s;a.parent().length>0&&"BODY"!=a.prop("tagName")&&!a.hasClass("ajax-container");)a=a.parent();i.css({width:a.css("width"),height:a.css("height")}),i.length>0&&i.animate({opacity:0},qab.ed,(function(){$("#"+t.source.id+"_overlay").remove()}))}}},qab.miniimg="",qab.miniimgcss="",qab.mnh=function(t){switch(t.status){case"begin":$("#"+t.source.id).parent().append("<img src='"+qab.miniimg+"' id='"+t.source.id+"_img' "+qab.miniimgcss+"/>");break;case"complete":$("#"+t.source.id+"_img").remove()}},qab.hclk=function(t){var i=$(t.currentTarget).parent();i.hasClass("dragging")||(i.addClass("dragging"),t.stopPropagation?t.stopPropagation():window.event.cancelBubble=!0)},qab.pclk=function(t){var i=$(t.currentTarget);i.hasClass("dragging")&&i.removeClass("dragging")},qab.pmv=function(t){var i=$(t.currentTarget);if(i.hasClass("dragging")){i.offset();i.css("left",t.pageX),i.css("top",t.pageY)}},qab.cls=function(t){$(t.currentTarget).parent().parent().fadeOut(),t.stopPropagation?t.stopPropagation():window.event.cancelBubble=!0};